<div class="nav-backdrop @(IsOpen ? "show" : "")" @onclick="ToggleAsync"></div>

<nav class="nav-drawer @(IsOpen ? "open" : "")" role="navigation">
    <div class="nav-header">
        <div>
            <p class="eyebrow">Mobile Navigation</p>
            <h2>F.R.I.E.N.D.S Fan Hub</h2>
            <p class="nav-note">Characters Â· Episodes Â· Quotes Â· Locations</p>
        </div>
        <button class="icon-button small" @onclick="ToggleAsync" aria-label="Close navigation menu">âœ•</button>
    </div>

    <div class="nav-links">
        <NavLink class="nav-link" href="/" Match="NavLinkMatch.All" @onclick="NotifyNavigateAsync">
            <span class="nav-emoji" aria-hidden="true">ğŸ </span>
            <div>
                <div class="nav-title">Home</div>
                <div class="nav-subtitle">Overview & quick actions</div>
            </div>
        </NavLink>

        <NavLink class="nav-link" href="/characters" @onclick="NotifyNavigateAsync">
            <span class="nav-emoji" aria-hidden="true">ğŸ§‘â€ğŸ¤â€ğŸ§‘</span>
            <div>
                <div class="nav-title">Characters</div>
                <div class="nav-subtitle">Profiles, quirks, and arcs</div>
            </div>
        </NavLink>

        <NavLink class="nav-link" href="/episodes" @onclick="NotifyNavigateAsync">
            <span class="nav-emoji" aria-hidden="true">ğŸ¬</span>
            <div>
                <div class="nav-title">Episodes</div>
                <div class="nav-subtitle">Season notes & highlights</div>
            </div>
        </NavLink>

        <NavLink class="nav-link" href="/quotes" @onclick="NotifyNavigateAsync">
            <span class="nav-emoji" aria-hidden="true">ğŸ’¬</span>
            <div>
                <div class="nav-title">Quotes</div>
                <div class="nav-subtitle">Catchphrases to present</div>
            </div>
        </NavLink>

        <NavLink class="nav-link" href="/locations" @onclick="NotifyNavigateAsync">
            <span class="nav-emoji" aria-hidden="true">ğŸ“</span>
            <div>
                <div class="nav-title">Locations</div>
                <div class="nav-subtitle">Sets, hangouts, and venues</div>
            </div>
        </NavLink>
    </div>
</nav>

@code {
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public EventCallback OnToggle { get; set; }
    [Parameter] public EventCallback OnNavigate { get; set; }

    private Task ToggleAsync() =>
        OnToggle.HasDelegate ? OnToggle.InvokeAsync() : Task.CompletedTask;

    private Task NotifyNavigateAsync() =>
        OnNavigate.HasDelegate ? OnNavigate.InvokeAsync() : Task.CompletedTask;
}
